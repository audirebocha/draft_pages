<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/login.css">
    

    <title>Signup</title>
</head>
<body>
    <nav class="nav">
        <div class="nav_1">
            <span class="logo" onclick="link('/')">Sharespace</span>
            <button onclick="link('/login')">Login</button>
        </div>
    </nav>
    <center>
        <div class="login_form">
            <h3>Reset password</h3>
            <form method="post" action="/reset_password_process/reset_password">
            <div class="input">
                <!--user name icon-->
                <img src="./images/lock.svg" alt="" class="input_icon">
                <input type="password" class="form_input" placeholder="password" name="password" id="password">
            </div>

            <div class="input">
                <!--user name icon-->
                <img src="./images/lock.svg" alt="" class="input_icon">
                <input type="password" class="form_input" placeholder="confirm password" name="confirmed_password" id="confirmed_password">
            </div>

            <button class="login_button" style="margin-bottom: 20px;" type="submit">Submit</button>
            </div>
            </form>
        </div>
    </center>




    <script>

        function new_user_registration(){
            if(validateForm()){
                submitRegistrationForm()
            }else{
                console.log('Error,Failed')
            }
        }

        function validateForm() {
            var username = document.getElementById("username").value;
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;
            var confirmedPassword = document.getElementById("confirmed_password").value;

            // Check if any field is empty
            if (username === '' || email === '' || password === '' || confirmedPassword === '') {
                console.log("Please fill in all the fields.");
                return false;
            }
            // Check if confirmed password matches the password
            else if (password !== confirmedPassword) {
                console.log("The password and confirmed password do not match.");
                return false;
            }

            // All validations passed
            console.log("Form validation successful!");
            // Perform further actions or submit the form
            return true;
        }


        function submitRegistrationForm() {
            var username = document.getElementById("username").value;
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;

            var form = document.createElement("form");
            form.setAttribute("method", "post");
            form.setAttribute("action", "/new_registration/new");

            // Create input elements for username, email, and password
            var usernameInput = document.createElement("input");
            usernameInput.setAttribute("type", "text");
            usernameInput.setAttribute("name", "username");
            usernameInput.setAttribute("value", username);
            form.appendChild(usernameInput);

            var emailInput = document.createElement("input");
            emailInput.setAttribute("type", "email");
            emailInput.setAttribute("name", "email");
            emailInput.setAttribute("value", email);
            form.appendChild(emailInput);

            var passwordInput = document.createElement("input");
            passwordInput.setAttribute("type", "password");
            passwordInput.setAttribute("name", "password");
            passwordInput.setAttribute("value", password);
            form.appendChild(passwordInput);

            // Append the form to the document body and submit it
            document.body.appendChild(form);
            form.submit();
        }

    </script>



</body>
<script>
    function link(link_to){
        window.location=link_to
    }
</script>
</html>